//*********************************************************************
//*  BUILD JCL FOR DITTO - VSAM DATASET BROWSER
//*  FOR KICKS ON MVS 3.8J TK5
//*
//*  ASSEMBLER:  IFOX00 (ASSEMBLER F)
//*  COBOL:      IKFCBL00 (OS/VS COBOL)
//*  KICKS:      KICKS.KICKSSYS.V1R5M0
//*  USER HLQ:   RVEZ001
//*
//*  STEPS:
//*    1. ASSEMBLE BMS MAP (PHYSICAL MAP)
//*   1A. ASSEMBLE BMS MAP (SYMBOLIC - COBOL COPYBOOK)
//*    2. PREPROCESS COBOL (KICKS PREPROCESSOR)
//*    3. COMPILE COBOL (IKFCBL00)
//*    4. ASSEMBLE DITTOIO HELPER
//*    5. LINK-EDIT ALL INTO LOAD MODULE
//*********************************************************************
//DITBLD  JOB  (DITTO),'BUILD DITTO',CLASS=A,MSGCLASS=X,
//         MSGLEVEL=(1,1),NOTIFY=&SYSUID
//*
//*-------------------------------------------------------------------
//*  STEP 1: ASSEMBLE BMS MAP - PHYSICAL MAP
//*-------------------------------------------------------------------
//MAPPHYS EXEC PGM=IFOX00,PARM='DECK,NOOBJECT'
//SYSLIB   DD  DSN=KICKS.KICKSSYS.V1R5M0.MACLIB,DISP=SHR
//         DD  DSN=SYS1.MACLIB,DISP=SHR
//SYSUT1   DD  DSN=&&SYSUT1,UNIT=SYSDA,SPACE=(CYL,(1,1))
//SYSUT2   DD  DSN=&&SYSUT2,UNIT=SYSDA,SPACE=(CYL,(1,1))
//SYSUT3   DD  DSN=&&SYSUT3,UNIT=SYSDA,SPACE=(CYL,(1,1))
//SYSPUNCH DD  DSN=&&MAPOBJ,UNIT=SYSDA,SPACE=(CYL,(1,1)),
//         DISP=(,PASS),DCB=(RECFM=FB,LRECL=80,BLKSIZE=3200)
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  DSN=RVEZ001.KICKS.DITTO(DITTOM),DISP=SHR
//*
//*-------------------------------------------------------------------
//*  STEP 1A: ASSEMBLE BMS MAP - SYMBOLIC MAP (COBOL COPYBOOK)
//*-------------------------------------------------------------------
//MAPSYMB EXEC PGM=IFOX00,PARM='DECK,NOOBJECT'
//SYSLIB   DD  DSN=KICKS.KICKSSYS.V1R5M0.MACLIB,DISP=SHR
//         DD  DSN=SYS1.MACLIB,DISP=SHR
//SYSUT1   DD  DSN=&&SYSUT1,UNIT=SYSDA,SPACE=(CYL,(1,1))
//SYSUT2   DD  DSN=&&SYSUT2,UNIT=SYSDA,SPACE=(CYL,(1,1))
//SYSUT3   DD  DSN=&&SYSUT3,UNIT=SYSDA,SPACE=(CYL,(1,1))
//SYSPUNCH DD  DSN=RVEZ001.KICKS.DITTO(DITTO1),DISP=SHR
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  DSN=RVEZ001.KICKS.DITTO(DITTOM),DISP=SHR
//*
//*-------------------------------------------------------------------
//*  STEP 2: KICKS COBOL PREPROCESSOR
//*  TRANSLATES EXEC CICS COMMANDS TO COBOL CALL STATEMENTS
//*-------------------------------------------------------------------
//PREPROC EXEC PGM=KIKPPCOB
//STEPLIB  DD  DSN=KICKS.KICKSSYS.V1R5M0.LOAD,DISP=SHR
//SYSPRINT DD  SYSOUT=*
//SYSIN    DD  DSN=RVEZ001.KICKS.DITTO(DITTO),DISP=SHR
//SYSPUNCH DD  DSN=&&PPCOB,UNIT=SYSDA,SPACE=(CYL,(1,1)),
//         DISP=(,PASS),DCB=(RECFM=FB,LRECL=80,BLKSIZE=3200)
//*
//*-------------------------------------------------------------------
//*  STEP 3: COMPILE COBOL (OS/VS COBOL)
//*-------------------------------------------------------------------
//COMPILE EXEC PGM=IKFCBL00,
//         PARM='NOLOAD,NODECK,SUPMAP,SIZE=256K,BUF=24K'
//STEPLIB  DD  DSN=SYS1.COBLIB,DISP=SHR
//SYSUT1   DD  DSN=&&SYSUT1,UNIT=SYSDA,SPACE=(CYL,(1,1))
//SYSUT2   DD  DSN=&&SYSUT2,UNIT=SYSDA,SPACE=(CYL,(1,1))
//SYSUT3   DD  DSN=&&SYSUT3,UNIT=SYSDA,SPACE=(CYL,(1,1))
//SYSUT4   DD  DSN=&&SYSUT4,UNIT=SYSDA,SPACE=(CYL,(1,1))
//SYSPRINT DD  SYSOUT=*
//SYSLIN   DD  DSN=&&COBOBJ,UNIT=SYSDA,SPACE=(CYL,(1,1)),
//         DISP=(,PASS),DCB=(RECFM=FB,LRECL=80,BLKSIZE=3200)
//SYSIN    DD  DSN=&&PPCOB,DISP=(OLD,DELETE)
//*
//*-------------------------------------------------------------------
//*  STEP 4: ASSEMBLE DITTOIO HELPER
//*-------------------------------------------------------------------
//ASMHLPR EXEC PGM=IFOX00,PARM='OBJECT,NODECK'
//SYSLIB   DD  DSN=SYS1.MACLIB,DISP=SHR
//         DD  DSN=SYS1.AMODGEN,DISP=SHR
//SYSUT1   DD  DSN=&&SYSUT1,UNIT=SYSDA,SPACE=(CYL,(1,1))
//SYSUT2   DD  DSN=&&SYSUT2,UNIT=SYSDA,SPACE=(CYL,(1,1))
//SYSUT3   DD  DSN=&&SYSUT3,UNIT=SYSDA,SPACE=(CYL,(1,1))
//SYSPRINT DD  SYSOUT=*
//SYSGO    DD  DSN=&&ASMOBJ,UNIT=SYSDA,SPACE=(CYL,(1,1)),
//         DISP=(,PASS),DCB=(RECFM=FB,LRECL=80,BLKSIZE=3200)
//SYSIN    DD  DSN=RVEZ001.KICKS.DITTO(DITTOIO),DISP=SHR
//*
//*-------------------------------------------------------------------
//*  STEP 5: LINK-EDIT
//*-------------------------------------------------------------------
//LKED    EXEC PGM=IEWL,PARM='LIST,XREF,LET,NCAL'
//SYSUT1   DD  DSN=&&SYSUT1,UNIT=SYSDA,SPACE=(CYL,(1,1))
//SYSPRINT DD  SYSOUT=*
//SYSLIB   DD  DSN=KICKS.KICKSSYS.V1R5M0.LOAD,DISP=SHR
//         DD  DSN=SYS1.COBLIB,DISP=SHR
//SYSLMOD  DD  DSN=KICKS.KICKSSYS.V1R5M0.LOAD(DITTO),DISP=SHR
//SYSLIN   DD  *
  INCLUDE COBOBJ
  INCLUDE ASMOBJ
  INCLUDE MAPOBJ
  ENTRY   DITTO
  NAME    DITTO(R)
/*
//COBOBJ   DD  DSN=&&COBOBJ,DISP=(OLD,DELETE)
//ASMOBJ   DD  DSN=&&ASMOBJ,DISP=(OLD,DELETE)
//MAPOBJ   DD  DSN=&&MAPOBJ,DISP=(OLD,DELETE)
//*
//*-------------------------------------------------------------------
//*  NOTES FOR KICKS INSTALLATION:
//*
//*  AFTER SUCCESSFUL BUILD, ADD THESE DEFINITIONS TO KICKS:
//*
//*  1. PCT (PROGRAM CONTROL TABLE) - DEFINE TRANSACTION:
//*     DTTO,DITTO
//*
//*  2. PPT (PROCESSING PROGRAM TABLE) - DEFINE PROGRAM:
//*     DITTO,COBOL
//*
//*  3. FCT (FILE CONTROL TABLE) - DEFINE FILE:
//*     BROWFIL,KSDS,BROWFIL
//*     (FCT ENTRY NAME=BROWFIL, TYPE=KSDS, DDNAME=BROWFIL)
//*
//*  4. THE DATASET TO BROWSE DOES NOT NEED TO BE PRE-ALLOCATED.
//*     DITTO WILL DYNAMICALLY ALLOCATE IT WHEN YOU ENTER
//*     THE DATASET NAME ON THE SCREEN.
//*
//*  PREREQUISITE DATASET (CREATE IF MISSING):
//*    RVEZ001.KICKS.DITTO - PDS FB/80
//*      MEMBERS: DITTO (COBOL), DITTOM (BMS), DITTOIO (ASM)
//*      ALSO RECEIVES GENERATED BMS COPYBOOK AS MEMBER DITTO1
//*-------------------------------------------------------------------
